<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kuchenny paneli</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Raleway:wght@800&family=Roboto:wght@400;500;700;900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/modern-normalize@2.0.0/modern-normalize.min.css"
    />
    <link rel="stylesheet" href="./css/styles.css" />
    <link rel="stylesheet" href="./css/grafiki.css" />
  </head>
  <body>
    <header class="header__fixed">
      <div class="header__top">
        <div class="header__top-inner container">
          <p>
            <a class="header__top-sale" href="./promocje.html">BLACK SALE</a>
            : Tylko teraz:
            <strong>-20% na monta≈º paneli szklanych! &nbsp;</strong>
            üìÖ Zam√≥w i zaliczkuj miƒôdzy
            <strong>29.11 ‚Äì 6.12</strong>
            . &nbsp; üìû Zadzwo≈Ñ:
            <a class="header__top-sale" href="tel:+48735042000"
              ><strong>735 042 000</strong></a
            >
          </p>
        </div>
      </div>
      <div class="header__bottom">
        <div class="container header__inner">
          <div class="header__scroll-wrap">
            <a class="header__logo" href="./index.html">LOGO</a>
          </div>

          <nav>
            <ul class="header__menu-list">
              <li class="header__menu-item">
                <span class="ovh">
                  <a
                    class="text-animation"
                    data-text="Oferta"
                    href="./oferta.html"
                    >Oferta</a
                  ></span
                >
              </li>
              <li class="header__menu-item">
                <span class="ovh">
                  <a
                    class="text-animation"
                    data-text="Grafiki"
                    href="./grafiki.html"
                    >Grafiki</a
                  ></span
                >
              </li>
              <li class="header__menu-item">
                <span class="ovh">
                  <a
                    class="text-animation"
                    data-text="Realizacje"
                    href="./realizacje.html"
                    >Realizacje</a
                  ></span
                >
              </li>
              <!-- dropdown-content-menu -->
              <li class="header__menu-item dropdown">
                <span class="ovh">
                  <a
                    class="text-animation"
                    data-text="O nas"
                    href="./o-nas.html"
                    >O nas</a
                  ></span
                >
                <ul class="header__dropdown-content">
                  <li class="header__menu-item">
                    <span class="ovh">
                      <a
                        class="text-animation"
                        data-text="Blog"
                        href="./blog.html"
                        >Blog</a
                      ></span
                    >
                  </li>
                  <li class="header__menu-item">
                    <span class="ovh">
                      <a
                        class="text-animation"
                        data-text="Promocje"
                        href="./promocje.html"
                        >Promocje</a
                      ></span
                    >
                  </li>
                  <li class="header__menu-item">
                    <span class="ovh">
                      <a
                        class="text-animation"
                        data-text="Zosta≈Ñ partnerem"
                        href="./zostan-partnerem.html"
                        >Zosta≈Ñ partnerem</a
                      ></span
                    >
                  </li>
                </ul>
              </li>
              <!-- //dropdown-content-menu -->
              <li class="header__menu-item">
                <span class="ovh">
                  <a
                    class="text-animation"
                    data-text="Kontakt"
                    href="./kontakt.html"
                    >Kontakt</a
                  ></span
                >
              </li>
              <li class="header__menu-item">
                <span class="ovh">
                  <a
                    class="text-animation"
                    data-text="Cennik"
                    href="./cennik.html"
                    >Cennik</a
                  ></span
                >
              </li>
              <li class="header__menu-item">
                <span class="ovh">
                  <a
                    class="text-animation"
                    data-text="Oferty pracy"
                    href="./oferty-pracy"
                    >Oferty pracy</a
                  ></span
                >
              </li>
            </ul>
          </nav>
          <div class="header_contacts">
            <div class="header__scrollphone-wrap">
              <a class="phone" href="tel:+48735042000">
                <svg class="phone-icon" width="10" height="16">
                  <use href="./images/icons/icons.svg#icon-phone-mob"></use>
                </svg>
                <span class="ovh">
                  <span
                    class="text-animation text__border"
                    data-text="Zadzwo≈Ñ do nas"
                    >Zadzwo≈Ñ do nas</span
                  ></span
                ></a
              >
              <!-- dropdown-content-contact -->
              <!-- <div class="header__dropdown-contacts">
                  <div class="footer__contacts">
                    <a href="tel:+48735042000">+48 735 042 000</a>
                    <a href="tel:+48735042000">+48 735 042 000</a>
                    <a class="email" href="mailto:info@szklane-panele.com"
                      >info@szklane-panele.com</a
                    >
                  </div>
                  <ul class="social__list">
                    <li class="social__item"></li>
                    <li class="social__item"></li>
                    <li class="social__item"></li>
                    <li class="social__item"></li>
                    <li class="social__item"></li>
                    <li class="social__item"></li>
                  </ul>
                </div> -->
              <!-- //dropdown-content-contact -->
            </div>

            <img
              class="language-icon"
              src="./images/lang_pl.png"
              alt="Language icon"
              width="24"
              height="24"
            />
            <a class="main__btn header__btn" href="./cennik.html">
              <span class="ovh"
                ><span class="text-animation" data-text="CENNIK"
                  >CENNIK</span
                ></span
              >
            </a>
          </div>
        </div>
      </div>
    </header>

    <section class="constructor">
      <div class="header__bottom-grafiki"></div>
      <h1 class="constructor__title">Grafiki</h1>
      <div class="constructor__inner container">
        <img
          class="constructor__img"
          src="./images/09ckitchen__1344.png"
          alt="Grafiki"
        />

        <div class="top"></div>
        <div class="middle"></div>
        <div class="bottom"></div>
        <div class="buttons">
          <button id="btn-top">G√≥ra</button>
          <button id="btn-bottom">D√≥≈Ç</button>
          <button id="btn-same">Jak g√≥rne</button>
        </div>
      </div>

      <div class="image-options">
        <img
          src="./images/6285f6fc41cba393896340.jpg"
          alt="Option 1"
          class="image-option"
          data-src="./images/6285f6fc41cba393896340.jpg"
        />
        <img
          src="./images/64ef5a4fa46da381027717.jpg"
          alt="Option 2"
          class="image-option"
          data-src="./images/64ef5a4fa46da381027717.jpg"
        />
        <img
          src="./images/64f07e5843951924842525.jpg"
          alt="Option 3"
          class="image-option"
          data-src="./images/64f07e5843951924842525.jpg"
        />
      </div>
    </section>
    <section class="constructor__paneli">
      <div class="container constructor__paneli__inner">
        <h2 class="constructor__title">Dopasowanie online</h2>
        <div class="constructor__paneli__wrapper">
          <div class="constructor__paneli-ui">
            <div class="constructor__paneli-viewport">
              <canvas
                id="constructor__canvas"
                width="750"
                height="425"
                class="constructor__canvas"
              ></canvas>
              <label
                for="the-file-input"
                class="constructor__add-photo--overlay button--info"
                >–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ<input type="file" id="the-file-input"
              /></label>
            </div>
            <div class="constructor__paneli-instruction">
              <ul class="constructor__btn-list">
                <li>
                  <button class="button--info">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–æ—Ç–æ</button>
                </li>
                <li>
                  <button id="btn-clean" class="button--info">–û—á–∏—Å—Ç–∏—Ç—å</button>
                </li>
                <li>
                  <button class="button--info">–í –∫–æ—Ä–∑–∏–Ω—É</button>
                </li>
              </ul>
              <ol class="constructor__info-list">
                <li>–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ —Å–≤–æ–µ–π –∫—É—Ö–Ω–∏ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</li>
                <li>–û–±–æ–∑–Ω–∞—á—å—Ç–µ –æ–±–ª–∞—Å—Ç—å –¥–ª—è —Å–∫–∏–Ω–∞–ª–∏ (–∏–∑ 4 –∏–ª–∏ 6 —Ç–æ—á–µ–∫)</li>
                <li>–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ —Å–ø—Ä–∞–≤–∞</li>
                <li>–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø—Ä–∏–º–µ—Ä —Å–µ–±–µ –∏–ª–∏ —Å–æ–≤–µ—Ä—à–∏—Ç–µ –∑–∞–∫–∞–∑ —Å—Ä–∞–∑—É</li>
              </ol>
            </div>
          </div>
          <div class="constructor__paneli-variants">
            <img
              src="./images/6285f6fc41cba393896340.jpg"
              alt="Option 1"
              class="image-variant"
              data-src="./images/6285f6fc41cba393896340.jpg"
            />
            <img
              src="./images/64ef5a4fa46da381027717.jpg"
              alt="Option 2"
              class="image-variant"
              data-src="./images/64ef5a4fa46da381027717.jpg"
            />
            <img
              src="./images/64f07e5843951924842525.jpg"
              alt="Option 3"
              class="image-variant"
              data-src="./images/64f07e5843951924842525.jpg"
            />
          </div>
        </div>
      </div>
    </section>
    <footer class="footer">
      <div class="footer__inner container">
        <div class="footer__main">
          <a class="footer__logo" href="./index.html">LOGO</a>
          <nav>
            <ul class="footer__menu-list grid-container">
              <li class="footer__menu-item">
                <span class="ovh">
                  <a
                    class="text-animation"
                    data-text="Grafiki"
                    href="./grafiki.html"
                    >Grafiki</a
                  ></span
                >
              </li>
              <li class="footer__menu-item">
                <span class="ovh">
                  <a
                    class="text-animation"
                    data-text="O nas"
                    href="./o-nas.html"
                    >O nas</a
                  ></span
                >
              </li>
              <li class="footer__menu-item">
                <span class="ovh">
                  <a class="text-animation" data-text="FAQ" href="./faq.html"
                    >FAQ</a
                  ></span
                >
              </li>
              <li class="footer__menu-item">
                <span class="ovh">
                  <a
                    class="text-animation"
                    data-text="Oferta"
                    href="./oferta.html"
                    >Oferta</a
                  ></span
                >
              </li>
              <li class="footer__menu-item">
                <span class="ovh">
                  <a class="text-animation" data-text="Blog" href="./blog.html"
                    >Blog</a
                  ></span
                >
              </li>
              <li class="footer__menu-item">
                <span class="ovh">
                  <a
                    class="text-animation"
                    data-text="Kontakt"
                    href="./kontakt.html"
                    >Kontakt</a
                  ></span
                >
              </li>
              <li class="footer__menu-item">
                <span class="ovh">
                  <a
                    class="text-animation"
                    data-text="Realizacje"
                    href="./realizacje.html"
                    >Realizacje</a
                  ></span
                >
              </li>
              <li class="footer__menu-item">
                <span class="ovh">
                  <a
                    class="text-animation"
                    data-text="Promocje"
                    href="./promocje.html"
                    >Promocje</a
                  ></span
                >
              </li>
              <li class="footer__menu-item">
                <span class="ovh">
                  <a
                    class="text-animation"
                    data-text="Polityka prywatno≈õci"
                    href="./privacy.html"
                    >Polityka prywatno≈õci</a
                  ></span
                >
              </li>
              <li class="footer__menu-item">
                <span class="ovh">
                  <a
                    class="text-animation"
                    data-text="Cennik"
                    href="./cennik.html"
                    >Cennik</a
                  ></span
                >
              </li>
              <li class="footer__menu-item">
                <span class="ovh">
                  <a
                    class="text-animation"
                    data-text="Zosta≈Ñ partnerem"
                    href="./zostan-partnerem.html"
                    >Zosta≈Ñ partnerem</a
                  ></span
                >
              </li>
            </ul>
          </nav>
          <div class="footer__contacts">
            <a href="tel:+48735042000">+48 735 042 000</a>
            <a href="tel:+48735042000">+48 735 042 000</a>
            <a class="email" href="mailto:info@szklane-panele.com"
              >info@szklane-panele.com</a
            >
          </div>
        </div>

        <div class="footer__bottom">
          <div class="copyright">¬© 2024 LOGO. Wszelkie prawa zastrze≈ºone</div>
          <ul class="social__list">
            <li class="social__item"></li>
            <li class="social__item"></li>
            <li class="social__item"></li>
            <li class="social__item"></li>
            <li class="social__item"></li>
            <li class="social__item"></li>
          </ul>
        </div>
      </div>
    </footer>
    <script src="./js/grafiki-scroll.js"></script>
    <script src="./js/constructor.js"></script>
    <script>
      const viewport = document.querySelector('.constructor__paneli-viewport');
      const uploadButton = document.querySelector(
        '.constructor__add-photo--overlay'
      );

      document
        .getElementById('the-file-input')
        .addEventListener('change', function (event) {
          const file = event.target.files[0];
          if (file) {
            const reader = new FileReader();

            reader.onload = function (e) {
              // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
              viewport.style.backgroundImage = `url(${e.target.result})`;
              viewport.style.backgroundSize = 'cover'; // –†–∞—Å—Ç—è–≥–∏–≤–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
              viewport.style.backgroundPosition = 'center'; // –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

              // –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –∑–∞–≥—Ä—É–∑–∫–∏
              uploadButton.style.display = 'none';
            };

            reader.readAsDataURL(file); // –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –≤ Data URL
          }
        });
      // –î–æ–±–∞–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–û—á–∏—Å—Ç–∏—Ç—å"
      document
        .getElementById('btn-clean')
        .addEventListener('click', function () {
          // const viewport = document.querySelector('.constructor__paneli-viewport');
          // const uploadButton = document.querySelector('.constructor__add-photo--overlay');
 // –û—á–∏—â–∞–µ–º –∫–∞–Ω–≤–∞—Å
 ctx.clearRect(0, 0, canvas.width, canvas.height);  // –û—á–∏—â–∞–µ–º –≤–µ—Å—å –∫–∞–Ω–≤–∞—Å
          // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π —Ñ–æ–Ω
          viewport.style.backgroundImage =
            'url(../images/constructor__no-photo.png)';
          viewport.style.backgroundSize = 'auto';
          viewport.style.backgroundPosition = 'center';

          // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –∫–Ω–æ–ø–∫—É –∑–∞–≥—Ä—É–∑–∫–∏
          uploadButton.style.display = 'inline-block';
        });
    </script>
    <script>
     // HTML Elements
const canvas = document.getElementById('constructor__canvas');
const ctx = canvas.getContext('2d');
const imageVariants = document.querySelectorAll('.image-variant');

canvas.width = canvas.offsetWidth;
canvas.height = canvas.offsetHeight;


// State Variables
let points = [];
let draggingPoint = null;
let selectedImage = null;

// Draw the shape
function drawShape() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  if (selectedImage) {
    const img = new Image();
    img.src = selectedImage;
    img.onload = () => {
      ctx.save();
      if (points.length > 0) {
        ctx.beginPath();
        ctx.moveTo(points[0].x, points[0].y);
        for (let i = 1; i < points.length; i++) {
          ctx.lineTo(points[i].x, points[i].y);
        }
        if (points.length >= 4) ctx.closePath();
        ctx.clip();
      }

      ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
      ctx.restore();
    };
  }

  // Draw the shape outline
  if (points.length > 1) {
    ctx.strokeStyle = 'red';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(points[0].x, points[0].y);
    for (let i = 1; i < points.length; i++) {
      ctx.lineTo(points[i].x, points[i].y);
    }
    if (points.length >= 4) ctx.closePath();
    ctx.stroke();
  }

  // Draw points
  for (const point of points) {
    ctx.beginPath();
    ctx.arc(point.x, point.y, 5, 0, Math.PI * 2);
    ctx.fillStyle = 'red';
    ctx.fill();
  }
}

// Add a new point
canvas.addEventListener('click', e => {
  if (points.length >= 6) return; // Limit to 6 points

  const rect = canvas.getBoundingClientRect();
  const x = e.clientX - rect.left;
  const y = e.clientY - rect.top;

  points.push({ x, y });
  drawShape(); // Immediately draw after adding a point
});

// Handle dragging points
canvas.addEventListener('mousedown', e => {
  const rect = canvas.getBoundingClientRect();
  const x = e.clientX - rect.left;
  const y = e.clientY - rect.top;

  draggingPoint = points.find(
    point => Math.hypot(point.x - x, point.y - y) < 10
  );
});

canvas.addEventListener('mousemove', e => {
  if (!draggingPoint) return;

  const rect = canvas.getBoundingClientRect();
  draggingPoint.x = e.clientX - rect.left;
  draggingPoint.y = e.clientY - rect.top;

  drawShape();
});

canvas.addEventListener('mouseup', () => {
  draggingPoint = null;
});

// Select an image
imageVariants.forEach(img => {
  img.addEventListener('click', () => {
    imageVariants.forEach(opt => (opt.style.borderColor = 'transparent'));
    img.style.borderColor = 'blue';
    selectedImage = img.dataset.src;
    drawShape();
  });
});

// Add pointer cursor to points
canvas.addEventListener('mousemove', e => {
  const rect = canvas.getBoundingClientRect();
  const x = e.clientX - rect.left;
  const y = e.clientY - rect.top;

  const hoveringPoint = points.some(
    point => Math.hypot(point.x - x, point.y - y) < 10
  );

  canvas.style.cursor = hoveringPoint ? 'pointer' : 'default';
});

    </script>
  </body>
</html>
